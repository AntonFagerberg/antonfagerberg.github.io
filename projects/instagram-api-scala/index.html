<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>Instagram API Scala</title>
    <meta name="description" content="">

    <link rel="stylesheet" href="/css/main.css">
    <link rel="canonical" href="http://www.antonfagerberg.com/projects/instagram-api-scala/">
</head>

  <body>
    <div id="gradient"></div>

<div id="menu">
  <a href="/">About</a>&nbsp;&nbsp;|&nbsp;
  <a href="/projects">Projects</a>&nbsp;&nbsp;|&nbsp;
  <a href="/texts">Texts</a>&nbsp;&nbsp;|&nbsp;
  <a href="/cv">CV</a>&nbsp;&nbsp;|&nbsp;
  <a href="/contact">Contact</a>
</div>
    <div class="post full">
	<h1>Instagram API Scala</h1>
	<p>This is an Scala implementation of the Instagram API.</p>

<p>This project uses scalaj-http to send HTTP-requests and lift-json to parse the JSON response to case classes.</p>

<p>You need to register an application for Instagram and get a client id (and later an access token for full access) before you can use this API. First register on: <a href="http://instagram.com/developer">instagram.com/developer</a> to get the required client id and secret - then use this API to receive an access token.</p>

<p>A Response object is returned from all methods and it contains:</p>

<ul>
  <li>Data - the stuff you actually want. This is the JSON response parsed to a corresponding object.</li>
  <li>Pagination - if a large result set is retrieved, this object contains what you need to fetch the next “batch” of information. You can pass the relevant pieces of this information to the same method as called before as optional parameters.</li>
  <li>Meta - contains the status from Instagram (like 200 OK, 400 error). Internal errors such as parsing or socket errors will be stored in this meta object as well.</li>
</ul>

<h2 id="installation--demo">Installation &amp; Demo</h2>
<p>You can use SBT to download the required dependencies and run the Demo-file:</p>

<div class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="n">sbt</span> <span class="n">run</span></code></pre></div>

<p>The demo-file contains all implemented methods but you need to uncomment some of them to try them (to avoid spamming the Instagram servers). You need to get a client id (and optionally an access token) before running the examples.</p>

<h2 id="adding-to-your-project">Adding to your project</h2>
<p>Simply run:</p>

<div class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="n">sbt</span> <span class="k">package</span></code></pre></div>

<p>To create a Jar-file. However, you need to add the dependencies below to your project manually!</p>

<h3 id="dependencies">Dependencies</h3>

<div class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="s">&quot;net.liftweb&quot;</span> <span class="o">%%</span> <span class="s">&quot;lift-json&quot;</span> <span class="o">%</span> <span class="s">&quot;2.5&quot;</span>
<span class="s">&quot;org.scalaj&quot;</span> <span class="o">%%</span> <span class="s">&quot;scalaj-http&quot;</span> <span class="o">%</span> <span class="s">&quot;0.3.15&quot;</span></code></pre></div>

<h2 id="implementation-status">Implementation status</h2>

<h3 id="implemented">Implemented</h3>
<ul>
  <li>Images and Videos.</li>
  <li>Get basic information about a user.</li>
  <li>Search for a user by name.</li>
  <li>Get information about a media object.</li>
  <li>See the authenticated user’s feed.</li>
  <li>Get the most recent media published by a user.</li>
  <li>See the authenticated user’s list of liked media.</li>
  <li>Get the list of users this user follows.</li>
  <li>Get the list of users this user is followed by.</li>
  <li>Get a list of currently popular media.</li>
  <li>Get a full list of comments on a media.</li>
  <li>Get a list of users who have liked this media.</li>
  <li>Get information about a tag object.</li>
  <li>Get a list of recently tagged media.</li>
  <li>Search for tags by name.</li>
  <li>Get information about a location.</li>
  <li>Search for a location by geographic coordinate.</li>
  <li>Get a list of media objects from a given location.</li>
  <li>Token support.</li>
  <li>Client ID support.</li>
  <li>Pagination.</li>
  <li>OAuth 2.0 authentication.</li>
  <li>Get information about a relationship to another user.</li>
  <li>Modify the relationship with target user.</li>
  <li>List the users who have requested to follow.</li>
  <li>Set a like on this media by the current user.</li>
  <li>Remove a like on this media by the current user.</li>
  <li>Add a comment (requires special permission from Instagram).</li>
  <li>Remove a comment.</li>
  <li>Search for media in a given area. The default time span is set to 5 days. The time span must not exceed 7 days. Defaults time stamps cover the last 5 days.</li>
  <li>Create a comment on a media. Please email apidevelopers[at]instagram.com for access.</li>
</ul>

<h3 id="not-implemented">Not implemented</h3>
<ul>
  <li>Subscriptions.</li>
</ul>

<h2 id="example-usage">Example usage</h2>

<div class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="c1">// You need to request these variables from Instagram: www.instagram.com/developer</span>
<span class="k">val</span> <span class="n">clientId</span> <span class="k">=</span> <span class="s">&quot;client-id&quot;</span>
<span class="k">val</span> <span class="n">clientSecret</span> <span class="k">=</span> <span class="s">&quot;client-secret&quot;</span>
<span class="k">val</span> <span class="n">redirectURI</span> <span class="k">=</span> <span class="s">&quot;redirect-URI&quot;</span>

<span class="c1">// Client-Side (Implicit) Authentication</span>
<span class="c1">// Get a URL to call. This URL will return the TOKEN in the URI after the #-symbol (and you&#39;re done)..</span>
<span class="n">println</span><span class="o">(</span><span class="nc">Authenticator</span><span class="o">.</span><span class="n">tokenURL</span><span class="o">(</span><span class="n">clientId</span><span class="o">,</span> <span class="n">redirectURI</span><span class="o">))</span>
<span class="c1">// You can append scopes by doing println(Authenticator.tokenURL(clientId, redirectURI, comments = true, relationships = true, likes = true))</span>

<span class="c1">// Server-side (Explicit) Flow</span>
<span class="c1">// Step 1: Get a URL to call. This URL will return the CODE to use in step 2 in the URI as a parameter code.</span>
<span class="n">println</span><span class="o">(</span><span class="nc">Authenticator</span><span class="o">.</span><span class="n">codeURL</span><span class="o">(</span><span class="n">clientId</span><span class="o">,</span> <span class="n">redirectURI</span><span class="o">))</span>
<span class="c1">// You can append scopes by doing println(Authenticator.codeURL(clientId, redirectURI, comments = true, relationships = true, likes = true))</span>
<span class="c1">// Step 2: Request a token for the code requested in step 1 (the code is valid one time only).</span>
<span class="c1">// This will return Either a Authentication object with access token and user information or a Meta object on failure.</span>
<span class="n">println</span><span class="o">(</span><span class="nc">Authenticator</span><span class="o">.</span><span class="n">requestToken</span><span class="o">(</span><span class="n">clientId</span><span class="o">,</span> <span class="n">clientSecret</span><span class="o">,</span> <span class="n">redirectURI</span><span class="o">,</span> <span class="n">code</span> <span class="k">=</span> <span class="s">&quot;the-code-from-step-1&quot;</span><span class="o">))</span>

<span class="c1">// Use either Left(&quot;The access-token you requested&quot;) or Right(&quot;your client ID&quot;).</span>
<span class="c1">// Note that not all features are available without an access token.</span>
<span class="k">val</span> <span class="n">instagram</span> <span class="k">=</span> <span class="k">new</span> <span class="nc">Instagram</span><span class="o">(</span><span class="n">accessTokenOrClientId</span> <span class="k">=</span> <span class="nc">Left</span><span class="o">(</span><span class="s">&quot;Put-access-token-here&quot;</span><span class="o">))</span>

<span class="c1">// println(&quot;Here is some stuff you can do (when you have a valid Access Token or Client Id):&quot;)</span>

<span class="c1">// println(s&quot;Get basic information about a name: ${instagram.userInfo(&quot;12895238&quot;)}&quot;)</span>

<span class="c1">// println(s&quot;Search for a name by name: ${instagram.userSearch(&quot;AntonFagerberg&quot;)}&quot;)</span>

<span class="c1">// println(s&quot;Get the list of users this user follows: ${instagram.follows(&quot;12895238&quot;)}&quot;)</span>

<span class="c1">// println(s&quot;Get the list of users this user is followed by: ${instagram.followedBy(&quot;12895238&quot;)}&quot;)</span>

<span class="c1">// println(s&quot;See the authenticated user&#39;s feed: ${instagram.feed()}&quot;) // Token</span>

<span class="c1">// println(s&quot;Get the most recent media published by a user: ${instagram.mediaRecent(&quot;12895238&quot;)}&quot;)</span>

<span class="c1">// println(s&quot;See the authenticated user&#39;s list of liked media: ${instagram.liked()}&quot;) // Token</span>

<span class="c1">// println(s&quot;Get information about a media object: ${instagram.media(&quot;452194471682227494_12895238&quot;)}&quot;)</span>

<span class="c1">// println(s&quot;Get a list of currently popular media: ${instagram.popular}&quot;)</span>

<span class="c1">// println(s&quot;Get a full list of comments on a media: ${instagram.comments(&quot;452194471682227494_12895238&quot;)}&quot;)</span>

<span class="c1">// println(s&quot;Get a list of users who have liked this media: ${instagram.likes(&quot;452194471682227494_12895238&quot;)}&quot;)</span>

<span class="c1">// println(s&quot;Get information about a tag object: ${instagram.tagInformation(&quot;hipster&quot;)}&quot;)</span>

<span class="c1">// println(s&quot;Get information about a tag object: ${instagram.tagSearch(&quot;snowy&quot;)}&quot;)</span>

<span class="c1">// println(s&quot;Get a list of recently tagged media: ${instagram.tagRecent(&quot;beer&quot;)}&quot;)</span>

<span class="c1">// println(s&quot;Get information about a location: ${instagram.location(&quot;1&quot;)}&quot;)</span>

<span class="c1">// println(s&quot;Get a list of media objects from a given location: ${instagram.locationMedia(&quot;1&quot;)}&quot;)</span>

<span class="c1">// println(s&quot;Search for a location by geographic coordinate: ${instagram.locationSearch(Some(&quot;48.858844&quot; -&gt; &quot;2.294351&quot;))}&quot;)</span>

<span class="c1">// println(s&quot;Like an image: ${instagram.like(&quot;457326401520123505_12895238&quot;)}&quot;)</span>

<span class="c1">// println(s&quot;Unlike an image: ${instagram.unlike(&quot;457326401520123505_12895238&quot;)}&quot;)</span>

<span class="c1">// println(s&quot;Relationship to a user: ${instagram.relationship(&quot;12895238&quot;)}&quot;)</span>

<span class="c1">// println(s&quot;Follow a user: ${instagram.relationshipFollow(&quot;12895238&quot;)}&quot;)</span>

<span class="c1">// println(s&quot;Unfollow a user: ${instagram.relationshipUnfollow(&quot;12895238&quot;)}&quot;)</span>

<span class="c1">// println(s&quot;Block a user: ${instagram.relationshipBlock(&quot;12895238&quot;)}&quot;)</span>

<span class="c1">// println(s&quot;Unblock a user: ${instagram.relationshipUnblock(&quot;12895238&quot;)}&quot;)</span>

<span class="c1">// println(s&quot;Approve a user: ${instagram.relationshipApprove(&quot;12895238&quot;)}&quot;)</span>

<span class="c1">// println(s&quot;Ignore a user: ${instagram.relationshipIgnore(&quot;12895238&quot;)}&quot;)</span>

<span class="c1">// println(s&quot;Relationship requests: ${instagram.relationshipRequests}&quot;)</span>

<span class="c1">// Whitelisting of client is needed for comment access.</span>
<span class="c1">// Please visit http://bit.ly/instacomments for commenting access</span>
<span class="c1">// println(instagram.comment(&quot;457326401520123505_12895238&quot;, &quot;test! :D&quot;))</span>
<span class="c1">// println(instagram.commentDelete(&quot;media-id&quot;, &quot;comment-id&quot;))</span>

<span class="c1">// println(s&quot;Search for images near a coordinate: ${instagram.mediaSearch(&quot;48.858844&quot; -&gt; &quot;2.294351&quot;)}&quot;)</span></code></pre></div>

<h2 id="download">Download</h2>
<p><a href="https://github.com/AntonFagerberg/InstagramScalaAPI">github.com/AntonFagerberg/InstagramScalaAPI</a></p>

<h2 id="license">License</h2>
<p>Copyright 2013 Anton Fagerberg (http://www.antonfagerberg.com).</p>

<p>Licensed under the Apache License, Version 2.0 (the “License”); you may not use this file except in compliance with the License. You may obtain a copy of the License at</p>

<p>http://www.apache.org/licenses/LICENSE-2.0</p>

<p>Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an “AS IS” BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.</p>

<p>For more information and examples, visit the project on GitHub.</p>

</div>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-40700896-1', 'antonfagerberg.com');
      ga('send', 'pageview');
    </script>
  </body>
</html>