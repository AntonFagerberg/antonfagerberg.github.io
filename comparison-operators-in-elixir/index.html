<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <title>Comparison operators in Elixir -  AntonFagerberg.com</title>
    <meta name="description" content="">

    <link rel="stylesheet" href="/css/main.css">
    <link rel="canonical" href="http://www.antonfagerberg.com/comparison-operators-in-elixir/">
</head>

  <body>
    <div id="gradient"></div>
    
    
    <div id="header">
      <a href="/">
        AntonFagerberg.com
        <div id="punchline">
          My personal website where I put stuff!
        </div>
      </a>
    </div>
    
    
    <div class="post full">
	<h1>Comparison operators in Elixir</h1>
	
	
	<strong>28 Dec 2014</strong>
	
	
	<p>When I began learning <a href="http://elixir-lang.org/">Elixir</a> and worked my way through <a href="http://elixir-lang.org/getting_started/1.html">the getting started guide</a>, I found two things which felt a bit out of place. One of them was the comparison operators which got me thinking more around this topic.</p>

<p>In Elixir, there are two equals operators: <code>==</code> and <code>===</code>. The difference between them are similar to other languages whereas the latter is more strict than the former.</p>

<div class="highlight"><pre><code class="language-elixir" data-lang="elixir"><span class="n">iex</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">&gt;</span> <span class="mi">1</span> <span class="o">==</span> <span class="mf">1.0</span>
<span class="no">true</span>
<span class="n">iex</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">&gt;</span> <span class="mi">1</span> <span class="o">===</span> <span class="mf">1.0</span>
<span class="no">false</span></code></pre></div>

<p>It can also be used in the same regard in nested structures:</p>

<div class="highlight"><pre><code class="language-elixir" data-lang="elixir"><span class="n">iex</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">&gt;</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span> <span class="o">==</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">]</span>
<span class="no">true</span>
<span class="n">iex</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">&gt;</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span> <span class="o">===</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">]</span>
<span class="no">false</span>
<span class="n">iex</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">&gt;</span> <span class="p">%{</span><span class="ss">a</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span> <span class="o">==</span> <span class="p">%{</span><span class="ss">a</span><span class="p">:</span> <span class="mf">2.0</span><span class="p">}</span>
<span class="no">true</span>
<span class="n">iex</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="o">&gt;</span> <span class="p">%{</span><span class="ss">a</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span> <span class="o">===</span> <span class="p">%{</span><span class="ss">a</span><span class="p">:</span> <span class="mf">2.0</span><span class="p">}</span>
<span class="no">false</span></code></pre></div>

<p>To accompany the stricter <code>===</code> operator, Elixir also has the negated version, <code>!==</code>, but as in most other languages, there is no strict version of the other comparison operators: <code>&lt;</code>, <code>&gt;</code>, <code>&lt;=</code>, <code>&lt;=</code>. While one could imagine that <code>&lt;==</code> and <code>&gt;==</code> easily could be created, there isn&#39;t really one as intuitive syntactic version for <code>&gt;</code> and <code>&lt;</code>.</p>

<p>As a comparison, in Scala and Java to name two languages, there is no strict comparison operators. In these languages, if we compare integers and floating point numbers, the integer is converted to a floating point number since this conversion does not lead to any data loss (which would happen if <code>1.1</code> would be converted to an integer). </p>

<p>The interesting thing to think about how is more how the less strict <code>==</code> operator works in those languages that does have the strict version. In languages like PHP and JavaScript, the <code>==</code> operator is much more relaxed than in Elixir and so numeric values can, to take one example, be compared with strings in this same regard as well:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="s2">&quot;1.0&quot;</span> <span class="o">==</span> <span class="mi">1</span> 
<span class="kc">true</span></code></pre></div>

<p>In JavaScript, the implementation of the less strict <code>==</code> operator doesn&#39;t only apply to comparing numeric types and strings but <a href="http://stackoverflow.com/questions/359494/does-it-matter-which-equals-operator-vs-i-use-in-javascript-comparisons">can also cause much wonder</a>. These sometimes unexpected behaviours are however not possible in Elixir:</p>

<div class="highlight"><pre><code class="language-elixir" data-lang="elixir"><span class="n">iex</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">&gt;</span> <span class="s2">&quot;1&quot;</span> <span class="o">==</span> <span class="mi">1</span>
<span class="no">false</span></code></pre></div>

<p>So in Elixir, the <code>===</code> operator only has one use which is to avoid comparing integers and floating point numbers which leads me to wonder if the <code>===</code> operator really is necessary in Elixir? My guess is that it is an inherited behaviour from Erlang which has the <code>=:=</code> operator (exactly equal to) and the corresponding <code>=/=</code> operator &quot;exactly not equal to&quot;.</p>

<p>For me, the <code>===</code> operator seems to be unnecessary in Elixir - I&#39;ve never missed the <code>===</code> operator in Scala and if it was removed from Elixir, the same behaviour could be recreated by combining the <code>is_integer/1</code> or <code>is_float/1</code> function with the <code>==</code> operator.</p>

</div>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-40700896-1', 'antonfagerberg.com');
      ga('send', 'pageview');
    </script>
  </body>
</html>